{"version":3,"sources":["components/Filter.js","components/Add.js","components/Contacts.js","services/phonebook.js","App.js","index.js"],"names":["Filter","handleFilter","filter","value","onChange","Add","props","newName","handleNewName","newNumber","handleNewNumber","type","onClick","handleAdd","Contacts","persons","handleDelete","map","person","key","name","number","id","baseUrl","axios","get","then","response","data","newPerson","post","put","delete","Notification","message","console","log","className","App","useState","setNewName","setNewNumber","setPersons","setFilter","msg","setMsg","useEffect","phonebookService","initialData","personsToShow","includes","event","target","preventDefault","personInList","find","trim","template","window","confirm","returnData","concat","catch","error","replace","newMsg","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3efb38c7.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ handleFilter, filter }) => {\n    return (<form>\n        <div>\n            filter shown with <input value={filter} onChange={handleFilter} />\n        </div>\n    </form>)\n}\n\nexport default Filter\n","import React from 'react'\n\nconst Add = (props) => {\n    return (<form>\n        <div>\n            name: <input value={props.newName} onChange={props.handleNewName} />\n            <br />\n      number: <input value={props.newNumber} onChange={props.handleNewNumber} />\n        </div>\n        <div>\n            <button type=\"submit\" onClick={props.handleAdd}>add</button>\n        </div>\n    </form>)\n}\n\nexport default Add\n","import React from 'react'\n\nconst Contacts = ({ persons, handleDelete }) => {\n    return (\n        <div>\n            {\n                persons.map(person =>\n                    <p key={person.name}>\n                        {person.name} {person.number}\n                        <button onClick={() => handleDelete(person.id)}>delete</button>\n                    </p>\n                )\n            }\n        </div>\n    )\n}\n\nexport default Contacts\n","import axios from 'axios'\nconst baseUrl = \"/api/persons\"\n\nconst getAll = () => {\n    return axios\n        .get(baseUrl)\n        .then(response => response.data)\n}\n\nconst create = (newPerson) => {\n    return axios\n        .post(baseUrl, newPerson)\n        .then(response => response.data)\n}\n\nconst update = (id, newPerson) => {\n    return axios\n        .put(`${baseUrl}/${id}`, newPerson)\n        .then(response => response.data)\n}\n\nconst remove = (id) => {\n    return axios\n        .delete(`${baseUrl}/${id}`)\n        .then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter'\nimport Add from './components/Add'\nimport Contacts from './components/Contacts'\nimport phonebookService from './services/phonebook'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  console.log(\"notification\", message)\n  const className = \"notification \" + message.type\n  return (\n    <div className={className}>\n      {message.message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [msg, setMsg] = useState(null)\n\n  useEffect(() => {\n    console.log(\"effect\")\n    phonebookService\n      .getAll()\n      .then(initialData => {\n        setPersons(initialData)\n      })\n  }, [])\n\n  const replace = (id) => {\n    const name = persons.find(person => person.id === id).name\n    const template = name + \" is already in the phonebook, do you want \"\n      + \"to replace their old number with a new number?\"\n\n    if (window.confirm(template)) {\n      const newPerson = {\n        name: newName,\n        number: newNumber\n      }\n      phonebookService\n        .update(id, newPerson)\n        .then(returnData => {\n          setPersons(persons.filter(person => person.id !== id).concat(returnData))\n          const notification = \"Replaced \" + newPerson.name\n          const newMsg = { type: \"success\", message: notification }\n          setMsg(newMsg)\n        })\n        .catch(error => {\n          const notification = \"Error \" + newPerson.name + \" already removed from server\"\n          const newMsg = { type: \"error\", message: notification }\n          setMsg(newMsg)\n        })\n    }\n  }\n\n  const handleAdd = (event) => {\n    event.preventDefault()\n    const personInList = persons.find(person => person.name === newName.trim())\n    if (personInList) {\n      replace(personInList.id)\n      return\n    }\n\n    const newPerson = {\n      name: newName.trim(),\n      number: newNumber.trim()\n    }\n\n    phonebookService\n      .create(newPerson)\n      .then(returnData => {\n        setPersons(persons.concat(returnData))\n        setNewName('')\n        setNewNumber('')\n\n        const notification = \"Added \" + newPerson.name\n        const newMsg = { type: \"success\", message: notification }\n        setMsg(newMsg)\n      })\n      .catch(error => {\n        const newMsg = { type: \"error\", message: error.response.data }\n        setMsg(newMsg)\n      })\n\n\n  }\n\n  const handleDelete = id => {\n    console.log(persons.find(person => person.id === id).name)\n    const template = \"Delete \" + persons.find(person => person.id === id).name + \"?\"\n\n    if (window.confirm(template)) {\n      phonebookService\n        .remove(id)\n        .then(response => {\n          setPersons(persons.filter(person => person.id !== id))\n        })\n    }\n  }\n\n  const handleNewName = event => setNewName(event.target.value)\n\n  const handleNewNumber = event => setNewNumber(event.target.value)\n\n  const handleFilter = event => setFilter(event.target.value)\n\n  let personsToShow = persons.filter(person => person.name.includes(filter))\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={msg} />\n\n      <Filter handleFilter={handleFilter} filter={filter} />\n\n      <h2>add new contact</h2>\n\n      <Add handleAdd={handleAdd}\n        newName={newName} handleNewName={handleNewName}\n        newNumber={newNumber} handleNewNumber={handleNewNumber} />\n\n      <h2>contacts</h2>\n\n      <Contacts persons={personsToShow} handleDelete={handleDelete} />\n    </div >\n  )\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}